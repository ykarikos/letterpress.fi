@(game: Game, score: (Int, Int), winner: Option[String], currentPlayer: Option[String])

@import tags._
@import models._


@main {

@defining(!winner.isEmpty) { ended => 

@if(ended) {
<p class="ended">The game has ended.<br>
@winner.get won!
</p>
}

<div class="playersContainer">

<input type="submit" value="Clear" class="clear topbuttons">
<input type="submit" value="Pass" class="pass topbuttons"
@if(ended || !currentPlayer.equals(Game.getCurrentTurn(game))) { 
  disabled="disabled" 
} >

<ul class="players">
@player("1", game.playerOne, score._1, game.turn.toString, ended, currentPlayer)
@if(game.playerTwo.isEmpty) {
	<li>
	@if(Some(game.playerOne) == currentPlayer) {
		<span class="waiting">Waiting&nbsp;for player&nbsp;two to join</span>
	} else { 
		@if(currentPlayer.isDefined) {
		    <label>Name: @currentPlayer
		    <input type="hidden" name="playerTwoName" value="@currentPlayer">
		    </label><br>
		    <input type="submit" value="Join game" class="namesubmit">
	    } else {
		    <label>Name:
		    <input name="playerTwoName" class="nameinput">
		    </label><br>
		    <input type="submit" value="Join game" class="namesubmit">
		}
	}
	</li>
} else {
	@player("2", game.playerTwo.get, score._2, game.turn.toString, ended, currentPlayer)
}
</ul>

<input type="submit" value="Submit" class="submit topbuttons"

@if(ended || !currentPlayer.equals(Game.getCurrentTurn(game))) { 
  disabled="disabled" 
} >
<input type="hidden" name="gameid" value="@game.id">
<input type="hidden" name="playerName" value="@currentPlayer">
<input type="hidden" name="turn" value="@game.turn.toString">

</div>

<div>
<ul id="selected">
</ul>
</div>

<div id="board" style="width: @(game.size * 80)px">

@for(tile <- game.tiles) {
	@tilespan(tile, game.size)
}
</div>

<ul class="playedWords" style="top: @(game.size * 90)px">
@for(word <- game.words) {
	<li class="player@word.turn">@word.word</li>
}
</ul>

}
}